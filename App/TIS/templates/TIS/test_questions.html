{% extends 'TIS/base_main.html' %}

{% block content %}
    {% autoescape off %}
        <h3>Вопрос {{ question.id }}</h3>
        <p class="test-block">{{ question.question }}</p>
        <form method="post" action="{% url 'test' question.id %}">
            {% csrf_token %}
            <div>
                {% for answer in answers %}
                    <input type="radio" name="ans_stud" id="answer-{{ forloop.counter }}" value="{{ answer.answer }}">
                    <label for="answer-{{ forloop.counter }}">{{ answer.answer }}</label>
                    <br>
                {% endfor %}
            </div>
            {% if stud_answered == False %}
                <button type="submit">Ответить</button>
            {% else %}
                <button type="submit" disabled style="background: rebeccapurple">Ответить</button>
            {% endif %}
            <br><br>
        </form>
        {% if question.id != 1 %}
            <a href="{% url 'test' prev_question_id %}"><button>Вопрос {{ prev_question_id }}</button></a>
        {% endif %}
        {% if next_question_id <= questions_num %}
            <a href="{% url 'test' next_question_id %}"><button>Вопрос {{ next_question_id }}</button></a>
        {% else %}
            <a href="{% url 'test_current_res' %}"><button>Завершить тест</button></a>
        {% endif %}
        <br><br>
        {% for id, class in passed_questions_map.items %}
            <a href="{% url 'test' id %}">{{ id }} {{ class }}</a>
        {% endfor %}
    {% endautoescape %}
{% endblock %}